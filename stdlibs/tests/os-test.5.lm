module os-tests

test check-happy()
    owner ds.List{os.Path} files
    files := os.list-dir(user "/")!

    owner String result
    result := files.pop()!.path-r!
    assert! result.equal(user "file0")
    result := files.pop()!.path-r!
    assert! result.equal(user "file1")
    result := files.pop()!.path-r!
    assert! result.equal(user "file2")

test ilegal-dir()
    assert-error! os.list-dir(user "illegal"), "path is not dir"
